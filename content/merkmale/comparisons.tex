%!TEX root = ../../dokumentation.tex

\section{Suchtiefe}
Ein wichtiger Faktor für die Stärke der KI ist die erreichte Suchtiefe.
Die Erhöhung der Suchtiefe um eins führt dazu, dass die KI, je nach Gesamtsuchtiefe, zu 80~–~95\,\% gegen die KI mit geringerer Suchtiefe gewinnt.
Diese Zahlen wurden ermittelt, indem die gleiche KI jeweils 20 Mal mit unterschiedlicher Suchtiefe gegeneinander spielen gelassen wurde.
Die Ergebnisse befinden sich in der Tabelle \ref{table:search-depth}.
Es ist also wichtig, eine möglichst hohe Suchtiefe in akzeptabler Zeit zu erreichen.
Bei begrenzter Rechenzeit kann eine höhere Performanz zu einer stärkeren KI führen.
%TODO: Tabelle in Anhang?

\begin{table}[hb]
\centering
\begin{tabular}{c|c|ccc}
\hline
Suchtiefe S\,/\,W & \#Spiele & Siege S & Unentschieden & Siege W
\\ \hline
1\,/\,2 & 20 & 15\,\% &  0\,\% & 85\,\% \\
2\,/\,3 & 20 &  5\,\% &  0\,\% & 95\,\% \\
3\,/\,4 & 20 & 10\,\% &  0\,\% & 90\,\% \\
4\,/\,5 & 20 & 15\,\% &  5\,\% & 80\,\% \\
\hline
\end{tabular}
\caption{Anteil gewonnener Spiele bei unterschiedlicher Suchtiefe}
\label{table:search-depth}
\end{table}

\section{Heuristik}
In der Heuristik werden verschiedene Merkmale berücksichtigt. Diese müssen so gewichtet werden, dass die KI möglichst
stark ist. Dabei kann es auch sein, dass ein Merkmal gar nicht mit in die Heuristik aufgenommen wird, da andere Merkmale
besser sind.

\subsection{Aktuelle Mobilität}
\label{sec:currentmobility}
Die aktuelle Mobilität soll berücksichtigen, wie viele Züge beide Spieler ziehen können, wobei eigene Züge positiv und
gegnerische Züge negativ bewertet werden. Die Anzahl der möglichen Züge des Spielers an der Reihe kann leicht bestimmt
werden. Die Anzahl der gegnerischen Züge kann jedoch nicht genau bestimmt werden, da noch nicht bekannt ist, welcher Zug
gezogen wird. Zur Schätzung wurden drei Möglichkeiten untersucht:
\begin{enumerate}
    \item Es wird der Durchschnitt der möglichen Züge aller Folgezustände berechnet.
    \item Es wird die durchschnittliche Anzahl an Zügen eines Spielers in der aktuellen Spielphase genommen.
    \item Es wird für den aktuellen Spielzustand die Anzahl der möglichen Züge beider Spieler berechnet, obwohl ein
    Spieler nicht an der Reihe ist.
\end{enumerate}
Von den Autoren durchgeführte Tests, in denen die KI mit unterschiedlich berechneter aktueller Mobilität 20 Mal mit
einer Suchtiefe von 4 gegen sich selbst gespielt hat, haben ergeben, dass die dritte Möglichkeit in der stärksten KI
resultiert. Option 3 konnte zu 75\,\% gegen Option 2 gewinnen, 25\,\% waren Niederlagen. Gegen Option 1 konnte Option 3
50\,\% Siege und 12\,\% Unentschieden erzielen. Dabei handelt es sich nicht um einen signifikanten Unterschied, aber da
die Bestimmung der möglichen Züge aller Folgezustände ein hoher Rechnenaufwand ist, ist die dritte Möglichkeit die beste
Option.

\subsection{Gewichtung von aktueller und potenzieller Mobilität}
\label{sec:combinedmobility}
Die aktuelle Mobilität und die potenzielle Mobilität zielen beide darauf ab, die Anzahl der möglichen Züge eines
Spielers zu erhöhen. Michael Buro ist in seiner Dissertation zu dem Ergebnis gekommen, dass der Nutzen der aktuellen
Mobilität annähernd linear zunimmt, wohingegen die potenzielle Mobilität annähernd linear zunimmt. Gegen Ende des Spiels
verlieren beide Merkmale an Bedeutung. Bis 36 Steine auf dem Spielfeld liegen, hat die potenzielle Mobilität einen
größeren Nutzen, danach die aktuelle Mobilität. \cite[S.~20]{evaluationfunctions}

Der erste Ansatz, die aktuelle und die potenzielle Mobilität zu kombinieren, besteht darin, bis zu einer bestimmten
Anzahl an Steinen auf dem Feld die potenzielle Mobilität zu verwenden, und danach die aktuelle Mobilität. Das hat den
Vorteil, dass der Rechnenaufwand geringer ist, da immer nur ein Merkmal berechnet werden muss. Tests, in denen die KI
gegen sich selbst mit unterschiedlichen Parametern spielen gelassen wurde, haben ergeben, dass die KI am häufigsten
gewinnt, wenn die Grenze bei den von Buro bestimmten 36 Steinen auf dem Spielfeld liegt.

Eine Verbesserung konnte erzielt werden, indem die aktuelle und die potenzielle Mobilität linear kombiniert wurden.
Das heißt, die Gewichtung der potenziellen Mobilität entspricht dem Anteil der belegten Felder und die aktuelle Mobilität
dem Anteil der freien Felder.

Um zu bestimmen, welche Kombination der Mobilität zur stärksten KI führt, wurden verschiedene Kombinationen jeweils 50
Mal mit einer Suchtiefe von drei gegeneinander spielen gelassen. Es hat sich gezeigt, dass ein Wechsel von der
potenziellen zur aktuellen Mobilität bei 36 Steinen auf dem Spielfeld keinen messbaren Unterschied zur aktuellen oder
potenziellen Mobilität alleine bewirkt. Eine lineare Kombination von aktueller und potenzieller Mobilität konnte
allerdings mit 56 – 60\,\% Siegen einen leichten Vorteil gegenüber den anderen Möglichkeiten erzielen. Tabelle
\ref{table:mobility} im Anhang zeigt den Anteil der Siege und Niederlagen der verschiedenen Kombinationen.

\subsection{Gewichtung von Mobilität und Cowthello} \label{sec:mobcowweight}
Letztendlich müssen die Mobilität und Cowthello zu einer Heuristik kombiniert werden. Um die Gewichtung der beiden
Merkmale zu bestimmen wurde die KI mit unterschiedlich gewichteter Heuristik und Suchtiefe 3 gegeneinander spielen
gelassen. Die Ergebnisse befinden sich in Tabelle \ref{table:combinedweighting}. Daraus ergibt sich, dass eine
Gewichtung von 62.5\,\% Mobilität und 37.5\,\% Cowthello zur stärksten KI führt.

\subsection{Anzahl der Steine}
Da es das Ziel von Othello ist, möglichst viele eigene Steine auf dem Spielfeld zu haben, ist es naheliegend, diese am
Ende des Spiels zu maximieren. Der Ansatz ist, ab einer bestimmten Anzahl an Steinen auf dem Spielfeld als Heuristik die
Differenz der Anzahl der eigenen Spielsteine und der gegnerischen Spielsteine zu verwenden. Tests haben allerdings
ergeben, dass die KI, die diese abgewandelte Heuristik verwendet, der unveränderten Heuristik deutlich unterlegen ist.
Tabelle \ref{table:disccount} im Anhang zeigt die Ergebnisse von Spielen der KIs mit den unterschiedlichen Heuristiken
gegeneinander. Diese Heuristik sollte also nicht verwendet werden.
